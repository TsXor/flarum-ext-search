(()=>{var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e);const a=flarum.core.compat["admin/app"];var n=t.n(a);const s=flarum.core.compat["common/extend"],r=flarum.core.compat["admin/components/AdminPage"];var i=t.n(r);function o(t,e){if(null==t)return{};var a,n,s={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(s[a]=t[a]);return s}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}const c=flarum.core.compat["common/utils/classList"];var u=t.n(c);const h=flarum.core.compat["common/Component"];var p=t.n(h);const d=flarum.core.compat["common/components/Select"];var b=t.n(d);const g=flarum.core.compat["common/components/Checkbox"];var f=t.n(g),v=["class","className","onchange","options","value","disabled","selectAttrs","rawTextInputAttrs"],y=["class","className"],x=function(t){var e,a;function n(){return t.apply(this,arguments)||this}a=t,(e=n).prototype=Object.create(a.prototype),e.prototype.constructor=e,l(e,a);var s=n.prototype;return s.onCheckboxChange=function(t,e){this.attrs.value=t?"":void 0,this.attrs.onchange(this.attrs.value),m.redraw()},s.onSelectChange=function(t){this.attrs.value=t,this.attrs.onchange(t)},s.onInputChange=function(t){var e=t.target.value;this.attrs.value=e,this.attrs.onchange(e)},s.view=function(t){var e,a,n,s=this.attrs,r=s.class,i=s.className,l=(s.onchange,s.options),c=s.value,h=s.disabled,p=s.selectAttrs,d=s.rawTextInputAttrs,g=o(s,v),x=Object.keys(l);void 0===c?(n=x[0],this.attrs.value=n,a=!1):(n=c,a=!(x.indexOf(n)>-1));var S=null!=d?d:{},O=S.class,j=S.className,k=o(S,y);return m("div",Object.assign({className:u()("SelectOrInput",i,r)},g),null!=(e=this.attrs.checkboxDescription)?e:"",m("div",{style:"display: inline-block;"},m(f(),{state:a,onchange:this.onCheckboxChange.bind(this)})),m("div",{style:"display: inline-block;"},a?m("input",Object.assign({className:u()("FormControl",j,O),type:"text",onchange:this.onInputChange.bind(this),disabled:h,value:n},k)):m(b(),Object.assign({options:l,onchange:this.onSelectChange.bind(this),disabled:h,value:n},p))))},n}(p());const S=flarum.core.compat["admin/utils/generateElementId"];var O=t.n(S),j=["setting","help","label"],k=["default","options","checkboxDescription"],w=new Set;function C(t){var e,a=t,n=[O()(),O()()],s=n[0],r=n[1],i=a.setting,l=a.help,c=a.label,u=o(a,j),h=u.default,p=u.options,d=u.checkboxDescription,b=o(u,k),g=this.setting(i)(),f=w.has(a.setting);return e=m(x,Object.assign({id:s,"aria-describedby":r,value:f||g?g:h,options:p,onchange:this.settings[i],checkboxDescription:d},b)),f||w.add(a.setting),m("div",{className:"Form-group"},c&&m("label",{for:s},c),m("div",{id:r,className:"helpText"},l),e)}function N(){(0,s.extend)(i().prototype,"customSettingComponents",(function(t){t.add("select-or-input",C.bind(this))}))}n().initializers.add("blomstra-search",(function(){N();var t=new Map;["arabic","armenian","basque","bengali","brazilian","bulgarian","catalan","cjk","czech","danish","dutch","english","estonian","finnish","french","galician","german","greek","hindi","hungarian","indonesian","irish","italian","latvian","lithuanian","norwegian","persian","portuguese","romanian","russian","sorani","spanish","swedish","turkish","thai"].forEach((function(e){t.set(e,e)})),n().extensionData.for("blomstra-search").registerSetting({setting:"blomstra-search.elastic-endpoint",label:n().translator.trans("blomstra-search.admin.elastic-endpoint"),type:"input"}).registerSetting({setting:"blomstra-search.elastic-username",label:n().translator.trans("blomstra-search.admin.elastic-username"),type:"input"}).registerSetting({setting:"blomstra-search.elastic-password",label:n().translator.trans("blomstra-search.admin.elastic-password"),type:"password"}).registerSetting({setting:"blomstra-search.elastic-index",label:n().translator.trans("blomstra-search.admin.elastic-index"),default:"flarum",type:"input"}).registerSetting({setting:"blomstra-search.analyzer-language",label:n().translator.trans("blomstra-search.admin.analyzer.label"),help:n().translator.trans("blomstra-search.admin.analyzer.help"),type:"select-or-input",options:Object.fromEntries(t.entries()),checkboxDescription:n().translator.trans("blomstra-search.admin.analyzer.custom"),default:"english"}).registerSetting({setting:"blomstra-search.elastic-index",label:n().translator.trans("blomstra-search.admin.elastic-index"),default:"flarum",type:"input"}).registerSetting({setting:"blomstra-search.search-discussion-subjects",label:n().translator.trans("blomstra-search.admin.search-discussion-subjects"),type:"switch"}).registerSetting({setting:"blomstra-search.search-post-bodies",label:n().translator.trans("blomstra-search.admin.search-post-bodies"),type:"switch"})}))})(),module.exports=e})();
//# sourceMappingURL=admin.js.map